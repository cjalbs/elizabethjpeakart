<!DOCTYPE html>
<html>

<head>
  <title>Elizabeth J. Peak Art</title>
  <meta chartset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="vue.js" charset="utf-8"></script>
  <script src="https://use.fontawesome.com/bb7011fb1c.js"></script>

</head>

<header>
  <nav>
    <h4 class="logo">Elizabeth Peak</h4>
    <ul class="nav-links">
      <li><a href="/index.html">Recent Works</a></li>
      <li><a href="/earlyworks.html">Early Works</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/resume.html">Resume</a></li>
      <li><a href="/contact.html">Contact</a></li>
    </ul>
    <div class="burger">
      <div class="line1"></div>
      <div class="line2"></div>
      <div class="line3"></div>
    </div>
  </nav>
</header>

<body>
  <h1>Contact</h1>
  <main>
    <p id="contact-welcome">
      Please use this form to reach Elizabeth Peak for orders or general inquiries.
    </p>

    <div id="app">

      <form class="vue-form" @submit.prevent="submit">

        <fieldset>
          <div>
            <label class="label" for="name">Name</label>
            <input type="text" name="name" id="name" required="" v-model="name">
          </div>
          <div>
            <label class="label" for="email">Email</label>
            <input type="email" name="email" id="email" required="" :class="{ email , error: !email.valid }" v-model="email.value">
          </div>
          <div>
            <label class="label" for="textarea">Message</label>
            <textarea class="message" name="textarea" id="textarea" required="" v-model="message.text" :maxlength="message.maxlength"></textarea>
          </div>
          <div>
            <input type="submit" value="Send">
          </div>
        </fieldset>
      </form>

      <script>
        var emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;

        new Vue({
          // root node
          el: "#app",
          // the instance state
          data: function() {
            return {
              name: "",
              email: {
                value: "",
                valid: true
              },
              features: ["Reactivity", "Encapsulation", "Data Binding"],
              selection: {
                member: "0",
                framework: "vue",
                features: []
              },
              message: {
                text: ""
              },
              submitted: false
            };
          },
          methods: {
            // submit form handler
            submit: function() {
              this.submitted = true;
            },
            // validate by type and value
            validate: function(type, value) {
              if (type === "email") {
                this.email.valid = this.isEmail(value) ? true : false;
              }
            },
            // check for valid email adress
            isEmail: function(value) {
              return emailRegExp.test(value);
            },
            // check or uncheck all
            checkAll: function(event) {
              this.selection.features = event.target.checked ? this.features : [];
            }
          },
          watch: {
            // watching nested property
            "email.value": function(value) {
              this.validate("email", value);
            }
          }
        });
      </script>

</body>

<script src="main.js"></script>

</html>
